<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>hyunjyung | portfolio</title>

    <!-- css -->
    <link rel="stylesheet" href="assets/css/reset3.css">
    <link rel="stylesheet" href="assets/css/style3.css">
    <link rel="stylesheet" href="assets/css/font.css">
    
</head>
<body>
    <div class="loading1"><span>jung</span></div>
    <div class="loading2"><span>portfolio</span></div>
    <!-- //로딩 -->
    <main class="referMain">
        <header id="header">
            <div class="jung"><h1>jung</h1></div>
            <div class="portfolio"><h1>portfolio</h1></div>
        </header>
        <!-- //헤더 -->
        <div class="menu">
            <ul class="menu--wrapper">
                <li class="menu--item"><a href="http://chohyunjung0107.dothome.co.kr/port/about.html">About</a></li>
                <li class="menu--item"><a href="http://chohyunjung0107.dothome.co.kr/port/site.html">Site PF</a></li>
                <li class="menu--item"><a href="http://chohyunjung0107.dothome.co.kr/port/ani.html">Animation</a></li>
                <li class="menu--item"><a href="http://chohyunjung0107.dothome.co.kr/port/script.html">Script</a></li>
                <li class="menu--item"><a href="http://chohyunjung0107.dothome.co.kr/port/refer.html">Reference</a></li>
                <li class="menu--item"><a href="#">Team-work</a></li>
                <li class="menu--item"><a href="http://chohyunjung0107.dothome.co.kr/port/contact.html">Contact</a></li>
            </ul>
        </div>
        <!-- //사이드 메뉴 -->
        <div class="oneMenu">
            <a href="#">
                 <span></span>
                 <span></span>
                 <span></span>
            </a>
        </div>
         <!-- //원메뉴 -->
        <div class="left">
            <ul>
                <li class="item">
                    <h2 class="white">Javascrtip</h2>
                    <h2>React</h2>
                    <h2>jQuery</h2>
                    <h2>HTML</h2>
                    <h2>CSS</h2>
                    <h2>SCSS</h2>
                    <h2>Script</h2>
                    <h2>Webstandad</h2>
                </li>
                <li class="item">
                    <h2>Javascrtip</h2>
                    <h2 class="white">React</h2>
                    <h2>jQuery</h2>
                    <h2>HTML</h2>
                    <h2>CSS</h2>
                    <h2>SCSS</h2>
                    <h2>Script</h2>
                    <h2>Webstandad</h2>
                </li>
                <li class="item">
                    <h2>Javascrtip</h2>
                    <h2>React</h2>
                    <h2 class="white">jQuery</h2>
                    <h2>HTML</h2>
                    <h2>CSS</h2>
                    <h2>SCSS</h2>
                    <h2>Script</h2>
                    <h2>Webstandad</h2>
                </li>
                <li class="item">
                    <h2>Javascrtip</h2>
                    <h2>React</h2>
                    <h2>jQuery</h2>
                    <h2 class="white">HTML</h2>
                    <h2>CSS</h2>
                    <h2>SCSS</h2>
                    <h2>Script</h2>
                    <h2>Webstandad</h2>
                </li>
                <li class="item">
                    <h2>Javascrtip</h2>
                    <h2>React</h2>
                    <h2>jQuery</h2>
                    <h2>HTML</h2>
                    <h2>CSS</h2>
                    <h2 class="white">CSS</h2>
                    <h2>SCSS</h2>
                    <h2>Script</h2>
                    <h2>Webstandad</h2>
                </li>
                <li class="item">
                    <h2>Javascrtip</h2>
                    <h2>React</h2>
                    <h2>jQuery</h2>
                    <h2>HTML</h2>
                    <h2>CSS</h2>
                    <h2 class="white">SCSS</h2>
                    <h2>Script</h2>
                    <h2>Webstandad</h2>
                </li>
                <li class="item">
                    <h2>Javascrtip</h2>
                    <h2>React</h2>
                    <h2>jQuery</h2>
                    <h2>HTML</h2>
                    <h2>CSS</h2>
                    <h2>SCSS</h2>
                    <h2 class="white">Script</h2>
                    <h2>Webstandad</h2>
                </li>
                <li class="item">
                    <h2>Javascrtip</h2>
                    <h2>React</h2>
                    <h2>jQuery</h2>
                    <h2>HTML</h2>
                    <h2>CSS</h2>
                    <h2>SCSS</h2>
                    <h2>Script</h2>
                    <h2 class="white">Webstandad</h2>
                </li>
            </ul>
        </div>
        <!-- //좌측 -->
        <div class="right">
            <ul>
                <li class="item2">
                    <a href="https://chobom0107.gitbook.io/javascrit-jquery/">자바스크립트 깃북 블로그<img src="./assets/img/reference-JSGITBOOK.png" alt="자바스크립트깃북"></a>
                    <a href="https://www.figma.com/proto/7wzDGtZ1LDFN1ojvb4LFQy/Javascript?node-id=19%3A5&viewport=326%2C396%2C0.06108178570866585&scaling=min-zoom">자바스크립트 PT피그마 정리<img src="./assets/img/reference-js.png" alt="자바스크립트피그마"></a>
                </li>                        
                <li class="item2">
                    <a href="https://www.figma.com/proto/sHa6Jqre74FjNJuTxfxSMi/%EB%B0%B0%EC%9B%80%EB%82%98%EB%9D%BC-%EC%9B%B9%EC%A0%91%EA%B7%BC%EC%84%B1?node-id=14%3A11&viewport=579%2C415%2C0.13780806958675385&scaling=min-zoom">기본편 웹표준2.0 PT피그마 정리<img src="./assets/img/reference-WEBSTAN(1).png" alt="웹표준피그마1"></a>
                    <a href="https://www.figma.com/proto/pwAhQaepFKb15Hjz18hgmu/%EB%B0%B0%EC%9B%80%EB%82%98%EB%9D%BC-%EC%9B%B9%EC%A0%91%EA%B7%BC%EC%84%B1?node-id=1%3A58&viewport=728%2C491%2C0.25093913078308105&scaling=min-zoom">심화편 웹표준2.0 PT피그마 정리<img src="./assets/img/reference-WEBSTAN(2).png" alt="웹표준피그마2"></a>
                </li>
                <li class="item2">
                    <a href="https://www.figma.com/proto/TxQOFzoNmxMqiHDtXoiJPt/CODE_PEN?node-id=1%3A2&viewport=346%2C617%2C0.25096455216407776&scaling=min-zoom">스크립트 PT피그마 정리<img src="./assets/img/reference-script.png" alt="스크립트피그마"></a>
                </li>
                <li class="item2">
                    <a href="https://www.figma.com/proto/dHe9HM3V8seDD1jaihbhls/sass?node-id=1%3A3&viewport=148%2C579%2C0.18264473974704742&scaling=min-zoom">SASS PT피그마 정리<img src="./assets/img/reference-sass.png" alt="싸스피그마"></a>
                </li>
                <li class="item2">
                    <a href="https://www.figma.com/proto/3wIUfCrPMcqLwZwEX5Dnsi/css?node-id=2%3A2&viewport=749%2C304%2C0.03785960376262665&scaling=min-zoom">CSS PT피그마 정리<img src="./assets/img/reference-css.png" alt="CSS피그마"></a>
                </li>
                <li class="item2">
                    <a href="https://www.figma.com/file/ImBIH8aPBx3pxq3fr6h78X/HTML?node-id=0%3A1">HTML PT피그마 정리<img src="./assets/img/reference-html (1).png" alt="HTML피그마"></a>
                </li>
                <li class="item2">
                    <a href="https://chobom0107.gitbook.io/jquery/">제이쿼리 깃북 블로그<img src="./assets/img/reference-jqGITBOOK.png" alt="제이쿼리깃북"></a>
                    <a href="https://www.figma.com/proto/oDObel34x8ZmKUBQbUQQXF/jQ?node-id=1%3A2&viewport=523%2C116%2C0.10943257063627243&scaling=min-zoom">제이쿼리 PT피그마 정리<img src="./assets/img/reference-JQ.png" alt="제이쿼리피그마"></a>
                </li>
                <li class="item2">
                    <a href="https://chobom0107.gitbook.io/react/">리액트 깃북 블로그<img src="./assets/img/reference-reactGITBOOK.png" alt="리액트깃북"></a>
                    <a href="https://www.figma.com/proto/cxqM0SJ5MmzX90XiqfiWbe/%EB%A6%AC%EC%95%A1%ED%8A%B8?node-id=1%3A2&viewport=112%2C369%2C0.18407222628593445&scaling=min-zoom">리액트 PT피그마 정리<img src="./assets/img/reference-react.png" alt="리액트피그"></a>
                </li>
            </ul>
        </div>
        <!-- //우측 -->
    </main>

    <!-- 스크립트 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.4.2/gsap.min.js"></script>
    <script>
        /*----------
        역 클론 스크롤
        ------------*/ 
        const main = document.querySelector(".referMain")
        const menu = document.querySelector('.menu')
        const menu_items = document.querySelectorAll('.menu--item')
        const items = document.querySelectorAll(".item")
        const items2 = document.querySelectorAll(".item2")


        let Height = main.clientHeight 

        let Menu_itemHeight = menu_items[0].clientHeight 
        let Menu_wrapHeight = menu_items.length * Menu_itemHeight 
        
        let itemHeight = items[0].clientHeight 
        let wrapHeight = items.length * itemHeight  

        let itemHeight2 = items2[0].clientHeight 
        let wrapHeight2 = items2.length * itemHeight 

        // console.log(itemHeight)
        // console.log(itemHeight2)

        let scrollSpeed = 0
        let oldScrollY = 0
        let scrollY = 0
        let y = 0

        //전체 스크롤 움직임(선형보간)
        const lerp = (v0, v1, t) => {
            return v0 * ( 1 - t ) + v1 * t
        }

        //disponse
        const dispose = (scroll) => {
            //사이드 메뉴 스크롤 위치 반응
            gsap.set(menu_items, {
                y: (i) => {
                    return i * Menu_itemHeight + scroll
                },
                modifiers: {
                    y: (y) => {
                        const s = gsap.utils.wrap(-Menu_itemHeight, Menu_wrapHeight - (Menu_itemHeight*-0.5), parseInt(y))
                        return `${s}px`
                    }
                }  
            }),
            // 좌측 아이템 스크롤 위치 반응 
            gsap.set(items, {
                y: (i) => {
                    return i * itemHeight + scroll
                },
                modifiers: {
                    y: (y) => {
                        const s = gsap.utils.wrap(-itemHeight, wrapHeight - (itemHeight), parseInt(y))
                        return `${s}px`
                    }
                }  
            }),
            // 우측 아이템 스크롤 위치 반응
            gsap.set(items2, {
                y: (i) => {
                    return i * itemHeight2 - scroll 
                },
                modifiers: {
                    y: (y) => {
                        const s = gsap.utils.wrap(-itemHeight2, wrapHeight2 - (itemHeight2), parseInt(y))
                        return `${s}px`
                    }
                }  
            })
        }
        dispose()
        
        //wheel
        const handleMouseWheel = (e) => {
            scrollY -= e.deltaY 
        }

        //Touch
        let touchStart = 0
        let touchY = 0
        let isDragging = false

        const handleTochStart = (e) => {
            touchStart = e.clientY || e.touches[0].clientY
            isDragging = true
            main.classList.add('is-dragging')
        }
        const handleTouchMove = (e) => {
            if(!isDragging) return
            touchY = e.clientY || e.touches[0].clientY
            scrollY += (touchY - touchStart) * 2.5
            touchStart = touchY
        }
        const handleTochEnd = () => {
            isDragging = false
            main.classList.remove('is-dragging')
        }

        //listeners
        main.addEventListener('mousewheel', handleMouseWheel)
        main.addEventListener('touchstart', handleTochStart)
        main.addEventListener('touchmove', handleTouchMove)
        main.addEventListener('touchend', handleTochEnd)

        main.addEventListener('mousedown',handleTochStart)
        main.addEventListener('mousemove',handleTouchMove)
        main.addEventListener('mouseleave',handleTochEnd)
        main.addEventListener('mouseup',handleTochEnd)

        main.addEventListener('selectstart', () => { return false })

        //resize
        window.addEventListener('resize', () => {
            mainHeight = main.clientHeight
            
            itemHeight = items[0].clientHeight
            wrapHeight = items.length * itemHeight
            
            itemHeight2 = items2[0].clientHeight
            wrapHeight2 = items2.length * itemHeight
        })

        //랜더
        const render = () => {
        requestAnimationFrame(render)
        y = lerp(y, scrollY, .1)
        dispose(y)
        
        scrollSpeed = y - oldScrollY
        oldScrollY = y
        
        gsap.to(menu_items, {
            scale: 1 -  Math.min(100, Math.abs(scrollSpeed)) * .005,
            rotate: scrollSpeed * 0.2,
        })
        // gsap.to(items, {
        //     scale: 1 -  Math.min(100, Math.abs(scrollSpeed)) * .005,
        //     rotate: scrollSpeed * 0.2,
        // })
        // gsap.to(items2, {
        //     scale: 1 -  Math.min(100, Math.abs(scrollSpeed)) * .005,
        //     rotate: scrollSpeed * 0.2,
        // })
        }
        render()

        /*--------------------
        원 버튼 : 클릭하면 사이드 메뉴가 우측으로 나옴 
        --------------------*/
        const oneMenu = document.querySelector(".oneMenu");
            oneMenu.onclick = function(){
                document.querySelector(".menu").classList.toggle("open");            
            }


    </script>
</body>
</html>