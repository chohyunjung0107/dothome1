<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>hyunjyung | portfolio</title>

    <!-- css -->
    <link rel="stylesheet" href="assets/css/reset3.css">
    <link rel="stylesheet" href="assets/css/style3.css">
    <link rel="stylesheet" href="assets/css/font.css">
    
</head>
<body>
    <div class="loading1"><span>jung</span></div>
    <div class="loading2"><span>portfolio</span></div>
    <!-- //로딩 -->
    <main class="siteMain">
        <header id="header">
            <div class="jung"><h1>jung</h1></div>
            <div class="portfolio"><h1>portfolio</h1></div>
        </header>
        <!-- //헤더 -->
        <div class="menu">
            <ul class="menu--wrapper">
                <li class="menu--item"><a href="http://chohyunjung0107.dothome.co.kr/port/about.html">About</a></li>
                <li class="menu--item"><a href="http://chohyunjung0107.dothome.co.kr/port/site.html">Site PF</a></li>
                <li class="menu--item"><a href="http://chohyunjung0107.dothome.co.kr/port/ani.html">Animation</a></li>
                <li class="menu--item"><a href="http://chohyunjung0107.dothome.co.kr/port/script.html">Script</a></li>
                <li class="menu--item"><a href="http://chohyunjung0107.dothome.co.kr/port/refer.html">Reference</a></li>
                <li class="menu--item"><a href="#">Team-work</a></li>
                <li class="menu--item"><a href="http://chohyunjung0107.dothome.co.kr/port/contact.html">Contact</a></li>
            </ul>
        </div>
        <!-- //사이드 메뉴 -->
        <div class="oneMenu">
            <a href="#">
                 <span></span>
                 <span></span>
                 <span></span>
            </a>
        </div>
         <!-- //원메뉴 -->
        <div class="left">
            <ul>
                <li class="item">
                    <h2>React PF Site</h2>
                    <h2>React PF Site</h2>
                    <h2>React PF Site</h2>
                    <h2>React PF Site</h2>
                    <h2>React PF Site</h2>
                    <h2>React PF Site</h2>
                    <h2>React PF Site</h2>
                    <h2>React PF Site</h2>
                    <h2>React PF Site</h2>
                    <h2>React PF Site</h2>
                    <a href="https://react201226.web.app/#/">move</a>                    
                </li>
                <li class="item">
                    <h2>Content scroll</h2>
                    <h2>Content scroll</h2>
                    <h2>Content scroll</h2>
                    <h2>Content scroll</h2>
                    <h2>Content scroll</h2>
                    <h2>Content scroll</h2>
                    <h2>Content scroll</h2>
                    <h2>Content scroll</h2>
                    <h2>Content scroll</h2>
                    <h2>Content scroll</h2>
                    <a href="https://chohyunjung0107.github.io/dothome1/effect/port/210108.html">move</a>
                </li>
                <li class="item">
                    <h2>Webstandad</h2>
                    <h2>Webstandad</h2>
                    <h2>Webstandad</h2>
                    <h2>Webstandad</h2>
                    <h2>Webstandad</h2>
                    <h2>Webstandad</h2>
                    <h2>Webstandad</h2>
                    <h2>Webstandad</h2>
                    <h2>Webstandad</h2>
                    <h2>Webstandad</h2>
                    <a href="http://chohyun0107.dothome.co.kr/webstandard/index.html">move</a>
                </li>
                <li class="item">
                    <h2>Responsive</h2>
                    <h2>Responsive</h2>
                    <h2>Responsive</h2>
                    <h2>Responsive</h2>
                    <h2>Responsive</h2>
                    <h2>Responsive</h2>
                    <h2>Responsive</h2>
                    <h2>Responsive</h2>
                    <h2>Responsive</h2>
                    <h2>Responsive</h2>
                    <a href="http://chohyun0107.dothome.co.kr/responsive/index.html">move</a>
                </li>
                <li class="item">
                    <h2>Megabox Clon</h2>
                    <h2>Megabox Clon</h2>
                    <h2>Megabox Clon</h2>
                    <h2>Megabox Clon</h2>
                    <h2>Megabox Clon</h2>
                    <h2>Megabox Clon</h2>
                    <h2>Megabox Clon</h2>
                    <h2>Megabox Clon</h2>
                    <h2>Megabox Clon</h2>
                    <h2>Megabox Clon</h2>
                    <a href="http://chohyun0107.dothome.co.kr/mega/index.html">move</a>
                </li>
                <li class="item">
                    <h2>Apple scroll PF</h2>
                    <h2>Apple scroll PF</h2>
                    <h2>Apple scroll PF</h2>
                    <h2>Apple scroll PF</h2>
                    <h2>Apple scroll PF</h2>
                    <h2>Apple scroll PF</h2>
                    <h2>Apple scroll PF</h2>
                    <h2>Apple scroll PF</h2>
                    <h2>Apple scroll PF</h2>
                    <h2>Apple scroll PF</h2>
                    <a href="https://chohyunjung0107.github.io/dothome1/effect/parallax-apple.html">move</a>
                </li>
            </ul>
        </div>
        <!-- //좌측 -->
        <div class="right">
            <ul>
                <li class="item2">
                    <img src="./assets/img/site-Mreact.jpg" alt="리액트포폴">
                    <a href="https://react201226.web.app/#/">리액트 라이브러리로<br>견고한 코드를 쌓다.<br><br>개념과 원리를 기반으로<br>컴포넌트를 연결하다.</a>                        
                </li>   
                <li class="item2">
                    <img src="./assets/img/site-Mapple.jpg" alt="애플오마주">
                    <a href="https://chohyunjung0107.github.io/dothome1/effect/parallax-apple.html">애플의<br>스크롤 애니메이션을<br><br>오마주하여<br>개인 포트폴리오 제작.</a>
                </li>  
                <li class="item2">
                    <img src="./assets/img/site-Mmegabox.jpg" alt="메가박스">
                    <a href="http://chohyun0107.dothome.co.kr/mega/index.html">반응형에서 탭 구현까지<br><br>기업 사이트에서<br>많이 볼 수 있는<br>기능을 모아 구현.</a>
                </li>
                <li class="item2">
                    <img src="./assets/img/site-Mreponsive.jpg" alt="반응형">
                    <a href="http://chohyun0107.dothome.co.kr/responsive/index.html">시멘틱 구조로 확실한<br>마크업<br><br>웹사이트 전체 골격을<br>계층적 구조로 구성.</a>
                </li>
                <li class="item2">
                    <img src="./assets/img/site-Mwebstand.jpg" alt="웹표준">
                    <a href="http://chohyun0107.dothome.co.kr/webstandard/index.html">사람을 향한 마크업<br><br>웹접근성 2.0을 준수하여<br>웹표준홈페이지 제작.</a>
                </li>
                <li class="item2">
                    <img src="./assets/img/site-Mconscroll.jpg" alt="두르마기">
                    <a href="https://chohyunjung0107.github.io/dothome1/effect/port/210108.html">순수 자바스크립트로<br> 콘텐츠의 매력을<br>불러일으키다.</a>
                </li>
            </ul>
        </div>
        <!-- //우측 -->
    </main>

    <!-- 스크립트 -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.4.2/gsap.min.js"></script>
    <script>
        /*----------
        역 클론 스크롤
        ------------*/ 
        const main = document.querySelector(".siteMain")
        const menu = document.querySelector('.menu')
        const menu_items = document.querySelectorAll('.menu--item')
        const items = document.querySelectorAll(".item")
        const items2 = document.querySelectorAll(".item2")


        let Height = main.clientHeight 

        let Menu_itemHeight = menu_items[0].clientHeight 
        let Menu_wrapHeight = menu_items.length * Menu_itemHeight 
        
        let itemHeight = items[0].clientHeight 
        let wrapHeight = items.length * itemHeight  

        let itemHeight2 = items2[0].clientHeight 
        let wrapHeight2 = items2.length * itemHeight 

        // console.log(itemHeight)
        // console.log(itemHeight2)

        let scrollSpeed = 0
        let oldScrollY = 0
        let scrollY = 0
        let y = 0

        //전체 스크롤 움직임(선형보간)
        const lerp = (v0, v1, t) => {
            return v0 * ( 1 - t ) + v1 * t
        }

        //disponse
        const dispose = (scroll) => {
            //사이드 메뉴 
            gsap.set(menu_items, {
                y: (i) => {
                    return i * Menu_itemHeight + scroll
                },
                modifiers: {
                    y: (y) => {
                        const s = gsap.utils.wrap(-Menu_itemHeight, Menu_wrapHeight - (Menu_itemHeight*-0.5), parseInt(y))
                        return `${s}px`
                    }
                }  
            }),
            // 좌측 아이템 스크롤 시 위치 
            gsap.set(items, {
                y: (i) => {
                    return i * itemHeight + scroll
                },
                modifiers: {
                    y: (y) => {
                        const s = gsap.utils.wrap(-itemHeight, wrapHeight - (itemHeight), parseInt(y))
                        return `${s}px`
                    }
                }  
            }),
            // 우측 아이템 스크롤 시 위치 
            gsap.set(items2, {
                y: (i) => {
                    return i * itemHeight2 - scroll 
                },
                modifiers: {
                    y: (y) => {
                        const s = gsap.utils.wrap(-itemHeight2, wrapHeight2 - (itemHeight2), parseInt(y))
                        return `${s}px`
                    }
                }  
            })
        }
        dispose()
        
        //wheel
        const handleMouseWheel = (e) => {
            scrollY -= e.deltaY 
        }

        //Touch
        let touchStart = 0
        let touchY = 0
        let isDragging = false

        const handleTochStart = (e) => {
            touchStart = e.clientY || e.touches[0].clientY
            isDragging = true
            main.classList.add('is-dragging')
        }
        const handleTouchMove = (e) => {
            if(!isDragging) return
            touchY = e.clientY || e.touches[0].clientY
            scrollY += (touchY - touchStart) * 2.5
            touchStart = touchY
        }
        const handleTochEnd = () => {
            isDragging = false
            main.classList.remove('is-dragging')
        }

        //listeners
        main.addEventListener('mousewheel', handleMouseWheel)
        main.addEventListener('touchstart', handleTochStart)
        main.addEventListener('touchmove', handleTouchMove)
        main.addEventListener('touchend', handleTochEnd)

        main.addEventListener('mousedown',handleTochStart)
        main.addEventListener('mousemove',handleTouchMove)
        main.addEventListener('mouseleave',handleTochEnd)
        main.addEventListener('mouseup',handleTochEnd)

        main.addEventListener('selectstart', () => { return false })

        //resize
        window.addEventListener('resize', () => {
            mainHeight = main.clientHeight
            
            itemHeight = items[0].clientHeight
            wrapHeight = items.length * itemHeight
            
            itemHeight2 = items2[0].clientHeight
            wrapHeight2 = items2.length * itemHeight
        })

        //랜더
        const render = () => {
        requestAnimationFrame(render)
        y = lerp(y, scrollY, .1)
        dispose(y)
        
        scrollSpeed = y - oldScrollY
        oldScrollY = y
        
        gsap.to(menu_items, {
            scale: 1 -  Math.min(100, Math.abs(scrollSpeed)) * .005,
            rotate: scrollSpeed * 0.2,
        })
        // gsap.to(items, {
        //     scale: 1 -  Math.min(100, Math.abs(scrollSpeed)) * .005,
        //     rotate: scrollSpeed * 0.2,
        // })
        // gsap.to(items2, {
        //     scale: 1 -  Math.min(100, Math.abs(scrollSpeed)) * .005,
        //     rotate: scrollSpeed * 0.2,
        // })
        }
        render()

        /*--------------------
        원 버튼 : 클릭하면 사이드 메뉴가 우측으로 나옴 
        --------------------*/
        const oneMenu = document.querySelector(".oneMenu");
            oneMenu.onclick = function(){
                document.querySelector(".menu").classList.toggle("open");            
            }


    </script>
</body>
</html>